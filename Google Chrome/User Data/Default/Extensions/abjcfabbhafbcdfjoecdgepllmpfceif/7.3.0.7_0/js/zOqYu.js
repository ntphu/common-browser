// MagicActions for Google Chrome - CHROMEACTIONS.COM - Copyright (c) 2017 Vlad & Serge Strukoff. All Rights Reserved.
var _vd={configurable:!1,enumerable:!1,writable:!1,value:{}};
(function(c,h,l){function t(){k(0);u(t,12E3)}function A(a){if(a.type==e){try{var b=C(a.detail)}catch(X){return}var d=b.id;6===d?(p||(p=new D),p.capture()):7===d?k(a.detail):4===d&&(d=b.name,-1<b.value&&("ui"===d&&2>b.value?k(a.detail):"cinc"===d&&40>b.value?k(a.detail):"cint"===d&&4>b.value&&k(a.detail)))}}function D(){var a,b,d={id:6,lic:""};if(a=E.call(h,"video")){var c=v.call(h,"canvas");var e=F.call(c,"2d")}this.capture=function(){if(a&&(4==a.readyState||3==a.readyState)){var f=a.videoWidth,g=
a.videoHeight;f!=d.w&&(d.w=c.width=f,d.h=c.height=g);e.drawImage(a,0,0);b=G.call(e,0,0,f,g).data;d.rgba&&H(d.rgba);d.rgba=I(new Blob([b],{type:"application/octet-stream"}));try{d.vid=J.call(h.URL,/v=[A-Za-z0-9_-]{11}/)[0].slice(2)}catch(Y){d.vid=""}d.t=K(h.title.slice(0,-10));k(L(d))}}}function a(){}var k=l.sendMessage;l=Storage.prototype;var M=Navigator.prototype,N=XMLHttpRequest.prototype,w=DocumentFragment.prototype,f=Document.prototype,x=DOMImplementation.prototype,y=EventTarget.prototype,q=Event.prototype,
m=Node.prototype,b=Element.prototype,z=HTMLElement.prototype,v=Document.prototype.createElement,E=Document.prototype.querySelector,O=Document.prototype.createEvent,P=CustomEvent.prototype.initCustomEvent,Q=Node.prototype.appendChild,R=Node.prototype.removeChild,S=EventTarget.prototype.addEventListener,T=EventTarget.prototype.dispatchEvent,F=HTMLCanvasElement.prototype.getContext,G=CanvasRenderingContext2D.prototype.getImageData,J=String.prototype.match,U=String.prototype.slice,V=Number.prototype.toString;
try{var g=Object.getOwnPropertyDescriptor(Function.prototype,"apply");g&&(g.configurable=!1,g.writable=!1,Object.defineProperty(Function.prototype,"apply",g))}catch(B){}try{if(g=Object.getOwnPropertyDescriptor(Function.prototype,"call"))g.configurable=!1,g.writable=!1,Object.defineProperty(Function.prototype,"call",g)}catch(B){}l.getItem=a;l.setItem=a;l.removeItem=a;l.clear=a;M.sendBeacon=a;N.open=a;w.querySelector=a;w.querySelectorAll=a;f.createDocumentFragment=a;f.createTextNode=a;f.createElement=
a;f.createElementNS=a;f.evaluate=a;f.createEvent=a;f.createCDATASection=a;f.execCommand=a;f.querySelector=a;f.querySelectorAll=a;f.write=a;f.writeln=a;x.createHTMLDocument=a;x.createDocument=a;y.addEventListener=a;y.removeEventListener=a;q.preventDefault=a;q.stopPropagation=a;q.stopImmediatePropagation=a;m.appendChild=a;m.cloneNode=a;m.getRootNode=a;m.removeChild=a;m.replaceChild=a;m.insertBefore=a;b.attachShadow=a;b.createShadowRoot=a;b.getElementsByClassName=a;b.getElementsByTagName=a;b.getElementsByTagNameNS=
a;b.append=a;b.remove=a;b.before=a;b.after=a;b.prepend=a;b.querySelector=a;b.querySelectorAll=a;b.requestPointerLock=a;b.setAttribute=a;b.removeAttribute=a;b.removeAttributeNS=a;b.removeAttributeNode=a;b.replaceWith=a;b.insertAdjacentElement=a;b.insertAdjacentText=a;b.insertAdjacentHTML=a;z.focus=a;z.click=a;var L=c.JSON.stringify,C=c.JSON.parse,W=c.Math.random,u=c.setTimeout,K=c.encodeURIComponent,H=c.URL.revokeObjectURL,I=c.URL.createObjectURL,r=h.documentElement,p,e;k(32);Object.defineProperty(c,
"msq__",{get:function(){return null},set:function(a){if(e){var b=e+"b",d=O.call(h,"CustomEvent");P.call(d,b,!1,!1,a);T.call(c,d)}else e=U.call(V.call(W()||.5,16),2),b=v.call(h,"script"),b.text='(function(q,b){function aa(){q.ytplayer&&q.ytplayer.config&&q.ytplayer.config.args?(K=q.ytplayer,ba(q.ytplayer.config.args,!0)):setTimeout(aa,10)}function V(){O=0<q.location.search.indexOf("list=");P=c.pause?O?c.plist?1:0:0:1;ca||(ca=!0,b.addEventListener("yt-navigate-finish",W,!1),b.addEventListener("spfdone",W,!1))}function W(a){var b="/watch"==q.location.pathname;O=0<q.location.search.indexOf("list=");P=c.pause?O?c.plist?1:0:0:1;Q.pageLoaded(b);L||(L=new da);L.optionsChanged();if(b&&a&&"yt-navigate-finish"==\na.type)try{X=a.detail.response.response.contents.twoColumnWatchNextResults.results.results.contents[1].videoSecondaryInfoRenderer.metadataRowContainer.metadataRowContainerRenderer.rows[0].metadataRowRenderer.contents[0].runs[0].text}catch(t){X=""}A.pageLoaded(b);R&&R.pageLoaded();ea();fa(b);ha();ia();ja();c.a0&&c.a1&&va()}function ka(){b.cookie&&(c.wide&&(b.cookie="wide=1; max-age=22592000; path=/; domain=youtube.com"),c.ww?b.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=22592000; path=/; domain=youtube.com":\n-1<b.cookie.indexOf("s_gl=1d69aac621b2f9c0")&&(b.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=0; path=/; domain=youtube.com"))}function ba(a,b){a.store_user_volume=!0;c.ww&&(a.cr="US",a.hl="en_US",a.host_language="en");S=c.hq;M=c.hqi;S&&(a.suggestedQuality=a.vq=M,N&&(N["yt-player-quality"]=\'{"data":"\'+M+\'","expiration":9904916135997,"creation":1502324135997}\'));c.anns&&(a.iv_load_policy=3)}function Y(a){a=a?"auto":M;N&&(N["yt-player-quality"]=\'{"data":"\'+a+\'","expiration":9904916135997,"creation":1502324135997}\');\nvar b=I(1);b&&b.setPlaybackQuality(a)}function wa(){function a(){if(0>c.cini||2<c.cini)c.cini=1;if(0>c.cinc||39<c.cinc)c.cinc=0;if(0>c.cint||3<c.cint)c.cint=1;G=c.cini;e=c.cinc;z=c.cint}function d(){l||(b.addEventListener("click",p,!0),b.addEventListener("contextmenu",p,!0));l=!0}function t(a){l&&(b.removeEventListener("contextmenu",p,!0),b.removeEventListener("click",p,!0));l=!1}function p(a){var b=a.target;if(w)if(B)if(-1<b.className.indexOf("ytp-size-button")||-1<b.className.indexOf("html5-endscreen")){n();\nvar e=!0}else"contextmenu"==a.type&&"ma-cin-cvs"==b.id&&(r(),e=!0);else if("contextmenu"==a.type){if(b=b.localName,"video"==b||"canvas"==b)r(),e=!0}else{if(-1<b.className.indexOf("ytp-size-button")||-1<b.className.indexOf("html5-endscreen"))r(),e=!0}else if("page"==b.id||"ytd-watch"==b.localName){var c=I(!0);c&&(b=a.pageY-q.scrollY,c=c.getBoundingClientRect(),60<b&&b<c.bottom&&("contextmenu"==a.type?r():n(),e=!0))}e&&(a.stopPropagation(),a.preventDefault())}function k(){q.hasOwnProperty("Polymer")?\n(x="ma-exp-mat",y="ma-cin-mat"+G):(x="ma-exp-old",y="ma-cin-old"+G)}function v(){C();var a=b.documentElement.classList;B&&(a.remove(y),a.remove("ma-cin"));w&&(a.remove(x),a.remove("ma-exp"));B=w=!1}function r(){var a=b.documentElement.classList;k();B?(C(),a.remove(y),a.remove("ma-cin"),B=!1):w?(a.remove(x),a.remove("ma-exp"),w=!1):(a.add("ma-exp"),a.add(x),w=!0,h());q.dispatchEvent(new Event("resize"));q.scrollTo(0,0)}function n(){var a=b.documentElement.classList;k();B?(C(),a.remove(y),a.remove("ma-cin"),\na.remove(x),a.remove("ma-exp"),B=w=!1):(w||(a.add("ma-exp"),a.add(x)),a.add("ma-cin"),a.add(y),B=w=!0,h(),u(),g());q.dispatchEvent(new Event("resize"));q.scrollTo(0,0);c.cinf&&(B&&b.documentElement.webkitRequestFullscreen?b.documentElement.webkitRequestFullscreen():b.webkitExitFullscreen&&b.webkitExitFullscreen())}function h(){var a=I(1);a&&(e_cinema=a.querySelector("#ma-cin"),e_cinema||(e_cinema=b.createElement("div"),H=b.createElement("canvas"),e_cinema.id="ma-cin",H.id="ma-cin-cvs",e_cinema.classList.add("ma-bg"+\nc.cinc),e_cinema.appendChild(H),e_cinema.addEventListener("click",function(a){a.stopPropagation();n()},!0)),a.insertBefore(e_cinema,a.lastElementChild));E=b.body.querySelector("#ma-cin-panel");if(!E){E=b.createElement("div");E.id="ma-cin-panel";var e=b.createElement("div");e.id="ma-cin-btns";E.appendChild(e);for(var m=0,d=4;m<d;m++){var l=b.createElement("div");l.className="ma-cin-btn";l.id="ma-cin-btn"+m;e.appendChild(l)}e=b.createElement("div");e.id="ma-cin-clrs";E.appendChild(e);a=\'Dark Gray;Velvet Sky;Deep Blue Sea;Blue Sky;Sea Wave;Deep Green;Ultraviolet;Dark Pink;Black and White;Black and Blue;Black and Green;Black and Yellow;Black and Red;Black and Violet;Black and Pink;Chromed;Ultrared;Blue Planet;Green;Coffee and Milk;"Light Gray;Light Blue Sky;Light Blue;Light Green;Light Yellow;Light Violet;Light Pink;White and Black;Light Sea Green;Navy Blue;Lime Green;Orange;Magenta;Red;Yellow;Indigo;Purple;Pink;White;Black\'.split(";");\nm=0;d=a.length;for(var z=1;m<d;m++,z++)l=b.createElement("div"),l.title=a[m],l.className="ma-cin-clr",l.id="ma-cin-clr"+m,e.appendChild(l),4<z&&(z=0,e.appendChild(b.createElement("br")));a=["Static","Color","Invert","Tint"];m=0;for(d=a.length;m<d;m++)l=b.createElement("div"),l.textContent=a[m],l.className="ma-cin-type",l.id="ma-cin-type"+m,e.appendChild(l);E.addEventListener("click",f,!0)}b.body.appendChild(E)}function f(a){var b=a.target.id||"";if(b)if(0==b.indexOf("ma-cin-clr")){b=b.slice(10);b=\nparseInt(b)||0;if(0>b||39<b)b=0;J("'+
e+'",JSON.stringify({id:4,name:"cinc",value:b}))}else if(0==b.indexOf("ma-cin-type")){b=b.slice(11);b=parseInt(b)||0;if(0>b||3<b)b=0;J("'+e+'",JSON.stringify({id:4,name:"cint",value:b}))}else if(0==b.indexOf("ma-cin-btn")){b=b.slice(10);b=parseInt(b)||0;if(0>b||3<b)b=0;if(0==b)J("'+e+'",JSON.stringify({id:7,p:302,f:103}));else if(1==b)J("'+e+'",JSON.stringify({id:6}));else if(2==b||3==b)E.hasAttribute("on")?E.removeAttribute("on"):E.setAttribute("on","")}a.stopPropagation();\na.stopImmediatePropagation()}function g(){var a;e_cinema.parentElement.querySelector("video")&&(H.classList.remove("ma-type"+la),(a=E.querySelector(".ma-cin-type-sel"))&&a.classList.remove("ma-cin-type-sel"),H.classList.add("ma-type"+z),(a=E.querySelector("#ma-cin-type"+z))&&a.classList.add("ma-cin-type-sel"),C(),0<z&&F(),la=z)}function u(){var a=e_cinema.parentElement.querySelector("video"),b;a&&(a.classList.remove("ma-sh"+m),e_cinema.classList.remove("ma-bg"+m),(b=E.querySelector(".ma-cin-clr-sel"))&&\nb.classList.remove("ma-cin-clr-sel"),e_cinema.classList.add("ma-bg"+e),a.classList.add("ma-sh"+e),(b=E.querySelector("#ma-cin-clr"+e))&&b.classList.add("ma-cin-clr-sel"),m=e)}function C(){A&&(clearInterval(A),A=0,H.getContext("2d").clearRect(0,0,H.width,H.height))}function F(){function a(){b.paused||(e!=b.videoWidth&&(e=b.videoWidth,m=b.videoHeight,H.width=c=q.innerWidth,H.height=l=H.offsetHeight),d.drawImage(b,0,0,e,m,0,0,c,l));A=setTimeout(a,80)}var b=e_cinema.parentElement.querySelector("video"),\ne,m,c,l,d=H.getContext("2d");b&&a()}var l,w,B,x,y,G,D,z,la,e,m,H,E,A;this.expandVideo=r;this.cinemaVideo=n;this.getState=function(){return w?B?1:2:0};this.pageLoaded=function(b){a();c.cin&&b?d():t();c.cin&&b?c.cina&&(B||n()):v()};this.optionsChanged=function(e){a();c.cin&&e?d():t();c.cin&&e?B&&(e=b.documentElement.classList,void 0!=D&&e.remove(y),k(),e.add(y),D=G,u(),g()):v()};a()}function da(){function a(a,c,e){a?w||(b.addEventListener("wheel",v,!0),w=!0):w&&(b.removeEventListener("wheel",v,!0),\nw=!1);c?B||(b.addEventListener("touchstart",p,!0),b.addEventListener("touchmove",k,!0),B=!0):B&&(b.removeEventListener("touchmove",k,!0),b.removeEventListener("touchstart",p,!0),B=!1);e?x||(b.addEventListener("mousemove",d,!0),b.addEventListener("contextmenu",t,!0),x=!0):x&&(b.removeEventListener("contextmenu",t,!0),b.removeEventListener("mousemove",d,!0),x=!1)}function d(a){if((3==a.which||2==a.buttons)&&0!=a.movementX){var c=a.target;if("video"==c.localName)var e=c;else if("ma-volume"==c.id||"canvas"==\nc.localName&&-1<c.parentElement.className.indexOf("webgl"))e=b.querySelector(".html5-main-video");e&&(y=!0,r(e,a.movementX),a.preventDefault(),a.stopPropagation())}}function t(a){y&&(y=!1,a.preventDefault(),a.stopPropagation())}function p(a){G=a.targetTouches[0].pageX-q.scrollX}function k(a){var c=a.targetTouches[0].pageX-q.scrollX,e=a.targetTouches[0].pageY-q.scrollY,m=b.body.querySelectorAll("video"),l=c-G;if(-43>l||43<l)for(var d=0,f=m.length;d<f;d++){var v=m[d];var w=v.getBoundingClientRect();\nif(e>w.top&&e<w.bottom&&c>w.left&&c<w.right){r(v,l);G=c;a.preventDefault();a.stopPropagation();break}}}function v(a){var c=a.target;if("video"==c.localName)var e=c;else if("ma-volume"==c.id||"canvas"==c.localName&&-1<c.parentElement.className.indexOf("webgl"))e=b.querySelector(".html5-main-video");e&&(r(e,a.wheelDelta=a.wheelDelta||-1*a.deltaY),a.preventDefault(),a.stopPropagation())}function r(a,c){var e=a.parentElement&&a.parentElement.parentElement||0;if(e&&e.setVolume){var m=e.getVolume();m=0>\nc?m-C:m+C;100<m?m=100:0>m&&(m=0);e.setVolume(m);if(0<F){c=m;h.parentElement||b.body.appendChild(h);var d=ma(a),w=b.documentElement.classList.contains("ma-cin")?d[0]-a.offsetWidth/2:d[0];d=d[1];1==F||3==F?(h.style.setProperty("left",w+20+"px","important"),h.style.setProperty("top",d+l+"px","important")):(h.style.setProperty("left",w+a.offsetWidth/2-118+"px","important"),h.style.setProperty("top",d+a.offsetHeight-120+"px","important"));D&&(h&&h.style.setProperty("display","block","important"),D=!1);\n1==F?(f.clearRect(0,0,90,48),f.fillText(c,0,21)):2==F?(f.fillStyle="rgb(0,0,0)",f.fillRect(0,0,236,20),f.rect(0,0,236,20),f.stroke(),f.fillStyle=u,f.fillRect(0,0,2*c,20),f.fillText(c,218,10)):3==F&&(f.clearRect(0,0,90,90),f.beginPath(),f.arc(45,45,40,2.0944,2.0944+.0523599*c,!1),f.stroke(),f.fillText(c,45,43));g&&clearTimeout(g);g=setTimeout(n,700)}a=e.isMuted();N&&(e=+new Date,N["yt-player-volume"]=\'{"data":"{\\\\"volume\\\\":\'+m+\',\\\\"muted\\\\":\'+a+\'}","expiration":\'+(e+1E10)+\',"creation":\'+e+"}")}}function n(){h&&\nh.style.setProperty("display","none","important");D=!0}var h,f,g,u,C,F,l,w,B,x,y,G,D;this.optionsChanged=function(){c.mwvc?(F=c.mwvci,C=c.gap,u=c.color,h||(h=b.createElement("canvas"),h.id="ma-volume",f=h.getContext("2d")),1==F?(h.width=90,h.height=48,f.font="48px Segoe UI, Helvetica, Arial, sans-serif",f.textAlign="left",l=17):2==F?(h.width=236,h.height=20,f.font="700 14px Segoe UI, Helvetica, Arial, sans-serif",f.textAlign="center",f.lineWidth=1,f.setLineDash([])):(h.width=90,h.height=90,f.font=\n"600 30px Segoe UI, Helvetica, Arial, sans-serif",f.textAlign="center",l=17,f.lineWidth=7,f.setLineDash([5,1])),f.textBaseline="middle",f.strokeStyle=f.fillStyle=u,f.shadowColor="#000",f.shadowBlur=5,n(),a(c.mwvcm,c.mwvct,c.mwvcr)):a()}}function J(a,b){a=new CustomEvent(a,{detail:b,cancelable:!1,canBubble:!1});xa.call(q,a)}function na(){var a=b.documentElement.classList;c.a0&&c.a4&&c.ui?(a.remove("m0"),a.add("m1")):(a.remove("m1"),a.add("m0"))}function ea(){var a=b.getElementById("ma-theme-switch");\nc.a0&&c.a4?a||(a=b.createElement("div"),a.id="ma-theme-switch",b.body.appendChild(a),a.addEventListener("click",oa,!0),a.addEventListener("contextmenu",oa,!0)):a&&b.body.removeChild(a)}function oa(a){J("'+
e+'",JSON.stringify({id:4,name:"ui",value:c.ui?0:1}));a.stopPropagation();a.preventDefault();a.stopImmediatePropagation()}function ya(){b.getElementById("magicSVG")||pa("GET",Z+"i/uIZpy",null,null,"document",function(a){a&&(a.documentElement.id="magicSVG",b.body.appendChild(a.documentElement))})}\nfunction za(){function a(e){if(e){var m=b.body.querySelector("#watch7-content,ytd-video-primary-info-renderer");if(m)if(y=c.loop,G=!1,C)m.insertBefore(C,m.firstElementChild),p(!y),f("m6",y),u(),(x=I(1))&&r();else{var g=Math.floor(7*Math.random()),h=b.createElement("span");m.insertBefore(h,m.firstElementChild);for(e=0;e<g;e++)m.insertBefore(b.createElement("div"),m.firstElementChild);C=b.createElement("div");m.insertBefore(C,h.nextElementSibling);e=C;if(m=qa){a:{if(navigator.appVersion&&(m=navigator.appVersion.indexOf("Chrome/"),\n-1<m)){m=parseInt(navigator.appVersion.slice(m+7));break a}m=0}m=53<m}F=m?qa.call(e,{mode:"closed"}):e;l=b.createElement("div");l.id="T_hr";v();m="Magic;Subscribe;Magic Options;Cinema;Expand;Repeat;Apply Color Filter | Right-click to reset;Transform Filters | Right-click to reset;Capture;Speed Booster;Show/Hide video info;".split(";");g=[1,2,3,4,5,6,9,10,8,11,12,13];e=0;for(var n=g.length;e<n;e++){h=g[e];var k=b.createElement("div");k.id="m"+h;k.className="bn";k.title=m[e];12==h&&(B=k);l.appendChild(k)}F.appendChild(Aa(Z+\n"css/xVWYqOu.css"));F.appendChild(l);l.addEventListener("click",t,!0);l.addEventListener("contextmenu",t,!0);l.lastElementChild;(x=I(1))&&r();p(!y);f("m6",y);d()}else w=setTimeout(a,2E3,1)}else p(!0)}function d(){g("m4",c.cin);g("m5",c.cin);g("m9",c.f0);g("m10",c.f0);g("m11",c.buf);u()}function t(a){var b=a.target,c="contextmenu"==a.type?!0:!1,e=parseInt(b.id.slice(1)||0);if(e)if(1==e&&J("'+
e+'",JSON.stringify({id:7,p:301,f:103})),2==e)J("'+e+'",JSON.stringify({id:7,p:102,f:0}));else if(3==e)J("'+e+'",\nJSON.stringify({id:7,p:300,f:200}));else if(4==e)Q.cinemaVideo();else if(5==e)Q.expandVideo();else if(6==e)y=!y,p(!y),f("m6",y);else if(8==e)J("'+e+'",JSON.stringify({id:6}));else if(9==e)n(c);else if(10==e)h(c);else if(11==e)R||(R=new Ba),R.toggle();else if(12==e){if(b=I(1))G&&b.hasOwnProperty("hideVideoInfo")?(b.hideVideoInfo(),G=!1):b.hasOwnProperty("showVideoInfo")&&(b.showVideoInfo(),G=!0)}else 13==e&&(309==b.msg.p&&x&&x.pauseVideo&&x.pauseVideo(),b.className="bn gray",J("'+
e+'",JSON.stringify(b.msg)));\na.stopPropagation();a.stopImmediatePropagation();"contextmenu"==a.type&&a.preventDefault()}function p(a){var b=I();if(b){var e=a?A?"removeEventListener":0:A?0:"addEventListener";e&&(b[e]("timeupdate",k,!0),A=a?!1:!0)}else A=!1}function k(a){this.currentTime>this.duration-1&&x&&x.hasOwnProperty("seekTo")&&x.seekTo(0)}function v(){l&&(l.className=(c.a0&&c.a4?c.ui?"m1":"m0":"m0")+(q.hasOwnProperty("Polymer")?" mat":""))}function r(){if(x&&x.getVideoLoadedFraction){var a=x.getVideoLoadedFraction();a=\n.99<a?100:parseInt(100*a);B.textContent=isNaN(a)?"":a+"%";100>a?w=setTimeout(r,3E3):c.buf&&c.buf1&&(new Audio(Z+"i/notify.ogg")).play()}}function n(a){var c=b.querySelector(".webgl canvas")||I();c&&(rgFilterNames="Apply Color Filter | Right-click to reset;1. Detalization;2. High Contrast;3. S-High Contrast;4. Grayscale;5. Sepia;6. Milk;7. Red Magic;8. Noir;9. Oil Painting;10. Pencil;11. Engraving;12. Age;13. Plastify;14. Colored Emboss;15. Soft Focus Lens;16. Matte;17. Invert".split(";"),c.classList.remove("ma-c-filter"+\nD),a?D=0:(D++,17<D&&(D=0)),c.classList.add("ma-c-filter"+D),f("m9",0<D,rgFilterNames[D]),1==D&&(ya(),1==z&&c.classList.remove("ma-c-filter1")))}function h(a){var c=b.querySelector(".webgl canvas"),e=c||I();e.classList.remove("ma-t-filter"+z);a?z=0:(z++,4<z&&(z=0));e.classList.add("ma-t-filter"+z);f("m10",0<z,["Apply Magic Transform | Right-click to reset","Magic Vinyl","Magic Zoom","Horizontal-Flip","Vertical-Flip"][z]);1==z?c?c.style.display="none":1==D&&e.classList.remove("ma-c-filter1"):2==z&&\n(c?c.style.display="":1==D&&e.classList.add("ma-c-filter1"))}function f(a,b,c){l&&(a=l.querySelector("#"+a))&&(a.classList[b?"add":"remove"]("on"),c&&(a.title=c))}function g(a,b){if(l&&(a=l.querySelector("#"+a)))a.classList[b?"remove":"add"]("hide")}function u(){if(l){var a=l.querySelector("#m13"),b=!1;if(a){if(c.a0&&c.a5)if("Music"==X)b=!0,a.textContent="Top 100",a.title="Top 100 Music Videos - Play All",a.msg={id:7,p:309,f:105};else{var d=new Date,f=d.getDay();if(1519245875E3>d.getTime()||1==f||\n3==f||5==f||6==f)b=!0,a.textContent="Feed",a.title="Check for updates …",a.msg={id:7,p:310,f:104}}b&&ra++;2==ra&&a.classList.add("gray");a.classList[b?"remove":"add"]("hide")}}}var C,F,l,w,B,x,y,G,D=0,z=0,A=!1;this.setTheme=v;this.selectBtn=f;this.isHost=function(a){return a==C};this.optionsChanged=function(a){a&&(d(),c.f0||(n(!0),h(!0)))};this.pageLoaded=function(b){w&&(clearTimeout(w),w=0);a(b)}}function Ba(){function a(a){c();a&&u.seekTo(n);A&&A.selectBtn("b11",0,"Speed booster/buffering");g=0}\nfunction c(){f&&(clearTimeout(f),f=null);r=v=0}function t(){h=u.getPlayerState();1!=h?(k=u.getVideoLoadedFraction(),1>k?(p=u.getDuration(),r=parseInt(k*p),r>v&&(v=r,r<p?(u.seekTo(r),g=1,f=setTimeout(t,1E3)):a(1))):a(1)):a(1)}var p,k,v,r,n,h,f,g,u;this.pageLoaded=function(){g&&a();b.documentElement.classList.remove("ma-boost")};this.toggle=function(){g?a():(u||(u=I(1)),u?(c(),h=u.getPlayerState(),1==h&&u.pauseVideo(),n=u.getCurrentTime(),A&&A.selectBtn("b11",1,"Stop booster/buffering"),b.documentElement.classList.add("ma-boost"),\nt()):g=0)}}function ha(){T&&(T.uninit(),T=null);c.mrl&&"/watch"==q.location.pathname&&(T||(T=new Ca))}function Ca(){function a(a){a.preventDefault();a.stopPropagation();clearInterval(f);var b=parseInt(k.getCurrentTime());a=a.pageX-v.getBoundingClientRect().left;var d=v.offsetWidth;h=n.length;a=parseInt(a*C/d);d=t(a);if(-1<d)n.splice(d,2);else{b>a&&(d=b,b=a,a=d);for(d=0;d<h;d+=2){var g=n[d],r=n[d+1],u=!1;g>=b&&r<=a?u=!0:g>=b&&g<=a?(a=r,u=!0):r>=b&&r<=a&&(b=g,u=!0);u&&(n[d]=-1,n[d+1]=-1)}n=n.filter(function(a){return-1<\na});h=n.length;n.push(b,a)}h=n.length;n.sort(function(a,b){return a==b?0:a>b?1:-1});p();0<h&&(f=setInterval(c,1E3))}function c(){for(var a=k.getCurrentTime(),b,c=1,d=h;c<d;c+=2)if(b=n[c],a>b&&a<b+2){k.seekTo(n[c+1<h?c+1:0]);break}}function t(a){for(var b=0;b<h;b+=2)if(a>=n[b]&&a<=n[b+1])return b}function p(){var a=g.width=g.offsetWidth;var b=g.height=g.offsetHeight;u.clearRect(0,0,a,b);if(h){u.lineWidth=8;u.strokeStyle="rgba(0, 250, 0,.5)";for(var c=0,d=1;c<h;c+=2,d+=2){b=n[c]*a/C;var f=n[d]*a/C;\n1>f-b&&(b-=2,f+=2);u.moveTo(b,4);u.lineTo(f,4);u.stroke()}}}var k,v,r,n=[],h,f;if(k=I(1))if((v=b.querySelector(".ytp-progress-bar-container"))&&(r=v.querySelector(".html5-scrubber-button,.ytp-scrubber-button")),null!=r){var g=b.createElement("canvas");g.id="ma-looper";var u=g.getContext("2d");var C=k.getDuration();n=[];g.style.setProperty("z-index",q.getComputedStyle(r,null).getPropertyValue("z-index"),"important");v.insertBefore(g,v.firstElementChild);v.addEventListener("contextmenu",a,!1)}this.uninit=\nfunction(){clearInterval(f);v.removeEventListener("contextmenu",a,!1);g.parentElement.removeChild(g)}}function fa(a){var d=b.documentElement.className;d&&(d=d.replace(/( )*ma-hide[0-9]+/g,""));if(a&&c.h0)for(a=1;9>a;a++)c["h"+a]&&(d+=" ma-hide"+a);b.documentElement.className=d}function Da(){function a(){c.c0&&c.c4?b.documentElement.classList.add("ma-cvc"):b.documentElement.classList.remove("ma-cvc")}function d(a){q.scrollTo(0,0);a.stopPropagation()}var t,p,k=.5*q.innerHeight;q.addEventListener("scroll",\nfunction(a){q.scrollY>k?p||(p=!0,t||(t=b.createElement("div"),t.textContent="Back to Top",t.className="magicTop",t.addEventListener("click",d,!0)),b.body.appendChild(t)):(p&&b.body.removeChild(t),p=!1)},{passive:!0,capture:!0});a();this.optionsChanged=a}function ia(){c.a0&&c.a2?b.documentElement.classList.add("ma-zoom"):b.documentElement.classList.remove("ma-zoom")}function ja(){c.c0&&c.c1?U||(U=new Ea):U&&(U.uninitialize(),U=null)}function Ea(){function a(a){"img"==a.target.localName&&23<a.target.width&&\n(a.target.addEventListener("mouseout",t,!1),d(a));a.preventDefault()}function d(a){p&&(clearTimeout(p),p=0);var d=a.target;a=b.body.querySelectorAll(".g-hovercard");for(var n=0,h=a.length;n<h;++n)a[n].classList.remove("g-hovercard");p=setTimeout(function(){var a="center",g=ma(d),h=g[0],n=g[1],t=d.offsetWidth,l=d.offsetHeight,p=0,r,v=q.scrollY;if(g=d.src)c.c0&&c.c1&&(/s\\d+-c-k/.test(g)?(d.hasAttribute("data-magic")||(d.src=g=g.replace(/s\\d+-c-k/,"s384-c-k")),p=r=384,a="center"):/sz=[0-9]+/.test(g)?\n(d.hasAttribute("data-magic")||(d.src=g=g.replace(/sz=[0-9]+/,"sz=384")),p=r=384,a="center"):/=s[0-9]+/.test(g)&&(d.hasAttribute("data-magic")||(d.src=g=g.replace(/=s[0-9]+/,"=s384")),p=r=384,a="center"),d.setAttribute("data-magic",!0)),0!=p&&(h<q.innerWidth/2?(t=h+t+32,h="magic-tip-left"):(t=h-p-32,h="magic-tip-right"),n=n-parseInt((r-l)/2)-5,l=parseInt(r/2),n<v&&(l-=v-n,n=v),0>l&&(l=5),v=t,l+="px",t="url("+g+") center "+a+"/100% auto no-repeat",k?(a=k.firstElementChild,g=k.lastElementChild,l&&a.style.setProperty("top",\nl,"important")):(k=b.createElement("div"),a=b.createElement("div"),g=b.createElement("iframe"),k.className="magic-tip",g.setAttribute("scrolling","no"),g.setAttribute("frameborder","0"),k.appendChild(a),k.appendChild(g),b.body.appendChild(k)),sa(k,["top",n+"px","left",v+"px","height",r+"px"],1),sa(g,["width",p+"px","height",r+"px","background",t,"display","block"],1),h?(a.style.setProperty("display",""),a.className=h):a.style.setProperty("display","none","important"),k.style.setProperty("display",\n"block","important"))},500)}function t(a){a.target.removeEventListener("mouseout",t,!1);p&&(clearTimeout(p),p=0);k&&k.style.setProperty("display","none","important")}var p,k;b.body.addEventListener("mouseover",a,!1);this.uninitialize=function(){b.body.removeEventListener("mouseover",a,!1)}}function va(){function a(a){do if((a=a.parentElement)&&("li"==a.localName||-1<a.className.search(/yt-lockup-video|video-list-item/)))break;while(a);if(a&&(a=a.querySelector(".yt-thumb-default,.yt-uix-simple-thumb-related,.video-thumb"))){var c,\nd=a.querySelector("img");if(d){a.img_w=d.width;var k=a.dataset.vid;k||(k=d.getAttribute("src"))&&(k=k.split("/")[4])}11==k.length&&pa("GET","https://www.googleapis.com/youtube/v3/videos?part=statistics&id="+k+"&key=AIzaSyC6wA79STIEv1tewqxtewjwbTMP6uOKLF8",null,null,"text",function(d){if(d){try{d=JSON.parse(d)}catch(C){return}if(d&&d.items&&0<d.items.length&&(items=d.items,c=items[0].statistics)){d=a.parentElement;var k=b.createElement("div"),n=b.createElement("div");k.className="ma-rts-line";n.className=\n"ma-rts-prg";k.style.width=a.img_w+"px";var h=parseInt(c.likeCount)||0,f=parseInt(c.dislikeCount)||0;f=parseInt(h+f);var g=c.commentCount||0,p=f?h/f:0;n.style.setProperty("transform","scaleX(0)","");d.title=(p?(100*p).toFixed(1)+"% of likes from "+f+" votes":"")+(g?"\\n"+g+" comments":"");k.appendChild(n);d.appendChild(k);setTimeout(function(){n.style.setProperty("transform","scaleX("+p+")","")},100)}}})}}b.documentElement.classList.add("ma-rts");b.body.addEventListener("click",function(b){var c=b.target;\n-1<c.className.search(/view-count|yt-lockup-meta/)&&(b.stopPropagation(),b.preventDefault(),c.rating||(c.rating=!0,a(c)))},!1)}function I(a){var c=b.querySelector("#player video")||b.querySelector("#movie-player video")||b.querySelector(\'video [src^="blob"]\');return a?c.parentElement.parentElement:c}function pa(a,b,c,p,k,q){var d=new XMLHttpRequest;d.onload=function(a){200==this.status?q(this.response):q()};d.onerror=q;d.onabort=q;d.open(a,b,!0);if(p)for(a=0,b=p.length;a<b;a+=2)d.setRequestHeader(p[a],\np[a+1]);k&&(d.responseType=k);try{d.send(c)}catch(n){}}function ma(a){if(!a||void 0==a)return[0,0];var b=0,c=0;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;while(a)}return[b,c]}function sa(a,b,c){if(a){var d=0,k=b.length;for(c=c?"important":null;d<k;d+=2)a.style.setProperty(b[d],b[d+1],c)}}function Aa(a){var c=b.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=a;return c}var qa=Element.prototype.attachShadow||0,xa=Window.prototype.dispatchEvent,ta,S,M,L,Q,\nA,R,ua,K,U,T,P=0,ca,X,ra=0;try{var N=q.localStorage}catch(a){}var c=JSON.parse(\''+
a+'\');var Z=c.extURL;var O=0<q.location.search.indexOf("list=");P=c.pause?O?c.plist?1:0:0:1;na();ka();q.addEventListener("'+e+'b",function(a){try{var b=JSON.parse(a.detail)}catch(t){return}c=b;a="/watch"==q.location.pathname;na();A.setTheme();fa(a);Q.optionsChanged(a);A.optionsChanged(a);L||(L=new da);L.optionsChanged();ka();ea();ha();ia();ja();S!=c.hq?(S=c.hq)?Y():Y(!0):S&&M!=c.hqi&&(M=c.hqi,Y());ua.optionsChanged()},\n!1);try{Object.defineProperty(q,"ytplayer",{get:function(){c&&K&&K.config&&K.config.args&&!ta&&(ta=!0,ba(K.config.args));return K},set:function(a){K=a},configurable:!0,enumerable:!0})}catch(a){aa()}var Fa=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){Fa.apply(this,arguments);if(0==P){var a=this.parentElement.parentElement;a&&"pauseVideo"in a&&a.pauseVideo()}return!0};q.addEventListener("DOMContentLoaded",function(){q.addEventListener("popstate",V,!1);b.addEventListener("yt-navigate",\nV,!1);b.addEventListener("spfrequest",V,!1);Q=new wa;A=new za;ua=new Da;W()},!1);b.addEventListener("click",function(a){A&&A.isHost(a.target)||(P=1)},!0)})(window,document);',
Q.call(r,b),R.call(r,b),S.call(c,e,A,!1)},configurable:!1});r.classList.add("m1");u(t,12E3)})(window,document,chrome.runtime);for(var i in chrome)if("runtime"==i)for(var n in chrome.runtime)"function"===typeof chrome.runtime[n]&&"connect"!==n&&(chrome.runtime[n]=function(){});else if("object"===typeof chrome[i])try{Object.defineProperty(chrome,i,_vd)}catch(c){}try{Object.defineProperty(window,"localStorage",_vd)}catch(c){}try{Object.defineProperty(window,"navigator",_vd)}catch(c){}
try{Object.defineProperty(window,"JSON",_vd)}catch(c){}try{Object.defineProperty(window,"fetch",_vd)}catch(c){}try{Object.defineProperty(Document.prototype,"cookie",_vd)}catch(c){}try{Object.defineProperty(Element.prototype,"innerHTML",_vd)}catch(c){};
